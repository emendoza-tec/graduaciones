<div class="col-xs-12">
  <div class="card card-img-main">
    <img src="/assets/img/Fondo Azul.png" class="img-main-movil" alt="Graduaciones">
  </div>
  <div class="card card-graduacion-movil">
    <span>{{'encabezado.titulo' | translate}}</span>
  </div>
  <div class="card card-greeting-message-movil" *ngIf="bandProspecto">
    <span> ยก{{ 'principal.saludo' | translate }} {{usuario.nombre}}! {{'principal.mensajeProspecto' | translate}} </span>
  </div>
  <div class="card card-greeting-message-movil" *ngIf="bandCandidato">
    <span> ยก{{ 'principal.saludo' | translate }} {{usuario.nombre}}! {{'principal.mensajeCandidato' | translate}} </span>
  </div>
  <div class="card card-greeting-message-movil" *ngIf="bandAlumnoNormal">
    <span> ยก{{ 'principal.saludo' | translate }} {{usuario.nombre}}! {{'principal.mensajeAlumnoNormal' | translate}} </span>
  </div>
  <div class="card recorrido">
    <div class="item-list">
      <em class="bi bi-mortarboard graduate-icon-movil"></em><span class="label-recorrido-movil">{{'miRecorridoGraduacion.tituloMovil' | translate}}</span>
      <div class="float-end float-info"><em class="bi bi-info-circle"></em></div>
    </div>

    <div class="recorrido-bar">
      <div class="progress">
        <div class="progress-bar" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"
             [ngStyle]="{'width':barra_Progreso}" style="height: 20px;text-align: right;border-radius:6px;padding-right:4px;">{{barra_Progreso}}</div>
      </div>
      <div class="float-end float-info" style="height:52px;"><span class="f12b" style="position:absolute;bottom:57px;right:25px;">{{barra_ProgresoTotal}}</span></div>

    </div>

  </div>

  <div class="card estimacion">
    <div class="item-list">
      <span *ngIf="periodoConfirmado" class="label-recorrido-movil">{{'estimacionGraduacion.titulo-confirmado' | translate}}</span>
      <span *ngIf="!periodoConfirmado" class="label-recorrido-movil">{{'estimacionGraduacion.titulo' | translate}}</span>
    </div>

    <div class="estimacion-date">
      <span>{{periodoActual}}</span>
    </div>
    <div class="float-end"><a class="link-date cursor-pointer" (click)="abrirModal('ModificarFecha', usuario)">{{'estimacionGraduacion.modificarFecha' | translate}}</a></div>
  </div>

  <mat-accordion>
    <mat-expansion-panel [expanded]="true" class="acordeon">
      <mat-expansion-panel-header class="acordeon-requisitos-normativos">
        <mat-panel-title>
          {{'requisitosAcademicosG.titulo' | translate}}
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="col-sm-12 col-xs-12 col-md-12 col-lg-6" *ngFor="let card of ListaCard" style="margin-top:-15px !important;">
        <br>
        <div class="card" (click)="openCardDialogTrigger(card)">
          <div class="card-body">
            <div class="encabezado">
              <div class="row">
                <div class="col-3" style="text-align: center; max-height: 70px;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="54.76470667433159" height="54.76470667433159">
                    <rect id="backgroundrect" width="100%" height="100%" x="0" y="0" fill="none" stroke="none" />

                    <g class="currentLayer">
                      <title>Layer 1</title>
                      <g id="svg_1" class="">
                        <ellipse stroke-width="0" ry="27.058822740889248" rx="26.470590077627417" id="svg_3" cy="27.058822740889248" cx="26.470590077627417" [attr.fill]="card.color" />
                        <ellipse stroke-width="0" ry="21.647058192711402" rx="21.17647206210193" id="svg_4" cy="27.058822740889248" cx="26.470590077627417" stroke="#000" fill="#ffffff" />
                        <ellipse stroke-width="0" ry="14.070587825262413" rx="13.764706840366253" id="svg_6" cy="27.058822740889248" cx="26.470590077627417" fill="#0053f1" />
                        <path transform="translate(19, 19) scale(1.0 1.0)" fill="white" [attr.d]="card.icono" />
                      </g>
                    </g>
                  </svg>
                  <div class="justify-content-center" style="text-align: center;" *ngIf="card.isCumple">
                    <span class="spanCumple-movil"><em class="bi bi-check-circle" style="color:white;"></em> {{'movil.cumple' | translate}}</span>
                  </div>
                  <div class="justify-content-center" style="text-align: center;" *ngIf="!card.isCumple">
                    <span class="spanNoCumple-movil"><em class="bi bi-exclamation-circle" style="color:white;" [ngStyle]="{'display': !(!card.isCumple && card.aplica &&card.Id != 1 ||(card.Id == 1 && normalSemanas)) ? 'none' : 'contents'}"></em> {{'movil.noCumple' | translate}}</span>
                  </div>
                </div>
                <div class="col-9 p-0">
                  <span class="f15b m-0"><em class="fa-solid fa-graduation-cap"></em>{{card.titulo}}</span>
                  <div>
                    <span class="f15 purple-font" *ngIf="card.Id == 6">{{card.descripcion}}</span>
                    <label class="subtitulo" *ngIf="card.Id == 2">{{'tarjetas.contenido.ingles.subtitulo' | translate}}</label>
                  </div>
                  <table style="width: 100%;" aria-hidden="true" aria-describedby="mydesc">
                    <tr *ngFor="let ls of card.list">
                      <td class="f15 purple-font">{{ls.nombre}} </td>
                      <td class="text-end pe-3">{{ls.valor}}</td>
                    </tr>
                    <tr>
                      <td class="f10 gray-text">{{'requisitosAcademicosG.ultimaActualizacion' | translate}}{{card.ultimaActualizacion | date: 'dd/MM/yyyy'}}</td>
                    </tr>
                  </table>

                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
  <div class="mt-10"></div>
  <mat-accordion>
    <mat-expansion-panel [expanded]="false" class="acordeon">
      <mat-expansion-panel-header class="acordeon-card">
        <mat-panel-title>
          {{'miInformacion.titulo' | translate}}
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="acordeon-content" style="padding: 0 20px; ">
        <div class="card-body">
          <div class="float-end"><a class="a-card-header" (click)="abrirModal('MiInformacion', usuario)">{{'miInformacion.btnEditar' | translate}}</a></div>
          <div class="item-list"><em class="bi bi-person"></em> <span class="label"> {{usuario.nombre}} {{usuario.apeidoPaterno}} {{usuario.apeidoMaterno}}</span></div>
          <div class="item-list">
            <em class="bi bi-credit-card-2-front"></em> <span class="label-negrita">
              {{'miInformacion.matricula' | translate}}
            </span><span class="label"> {{usuario.matricula}}</span>
          </div>
          <div class="item-list"><em class="bi bi-journal-bookmark"></em> <span class="label-negrita"> {{'miInformacion.progAcademico' | translate}} </span><span class="label"> {{usuario.programaAcademico}}</span></div>
          <div class="item-list"><em class="bi bi-envelope"></em> <span class="label"> {{usuario.correo}}</span></div>

          <hr class="line">
          <div class="d-inline">
            <em class="bi bi-exclamation-circle"></em>
          </div>
          <div class="d-inline">
            <span class="txt-info">
              {{'miInformacion.advertencia' | translate}}
            </span>
          </div>
        </div>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
  <div class="mt-10"></div>
  <mat-accordion>
    <mat-expansion-panel [expanded]="false" class="acordeon">
      <mat-expansion-panel-header class="acordeon-card">
        <mat-panel-title>
          {{'miAcompanamiento.titulo' | translate}}
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="acordeon-content" style="padding: 0 20px; ">
        <div class="item-list">
          <em class="bi bi-person-circle"></em> <span class="label-negrita">
            {{'miAcompanamiento.dirPrograma' | translate}}
          </span><br><span class="label-grayBold">  {{usuario.directorPrograma}}</span>
          <br><span class="label-gray"> {{usuario.correoDirector}}</span>
        </div>
        <div class="item-list">
          <em class="bi bi-person-circle"></em> <span class="label-negrita"> {{'miAcompanamiento.mentorEstudiantil' | translate}}</span><br><span class="label-grayBold">{{usuario.mentor}} </span>
          <br><span class="label-gray"> {{usuario.correoMentor}}</span>
        </div>
        <div class="item-list">
          <em class="bi bi-person-circle"></em> <span class="label-negrita"> TECServices</span>
          <br><span class="label-gray"> TECservices@servicios.tec.mx</span>
        </div>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
  <div class="mt-10"></div>
  <mat-accordion>
    <mat-expansion-panel [expanded]="false" class="acordeon">
      <mat-expansion-panel-header class="acordeon-card">
        <mat-panel-title>
          {{'distincionesAdicionales.titulo' | translate}}
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="acordeon-content" style="padding: 0 20px; ">
        <div class="f16" *ngIf="distincion.hasConcentracion || distincion.hasDiploma || distincion.hasUlead">
          <span > {{ 'distincionesAdicionales.estasInscrito' | translate }} </span>
        </div>
        <tr *ngFor="let lstc of distincion.lstConcentracion">
          <div class="item-list">
            <em class="bi-exclamation-circle-fill" style="color: #EF8F00"></em>
            <span style="margin-left:10px;font-weight: 600;">{{'distincionesAdicionales.concentracionL' | translate}}</span><span> {{lstc}}</span>
          </div>
        </tr>
          <div [hidden]="!distincion.hasDiploma" class="item-list">
            <em class="bi-exclamation-circle-fill" [ngStyle]="{'color': '#EF8F00'}"></em>
            <span style="margin-left:10px;font-weight: 600;">{{'distincionesAdicionales.diplomaInternacional' | translate}}</span>
          </div>
          <div [hidden]="!distincion.hasUlead" class="item-list">
            <em class="bi-exclamation-circle-fill" [ngStyle]="{'color': '#EF8F00'}"></em>
            <span style="margin-left:10px;font-weight: 600;">{{'distincionesAdicionales.uleadL' | translate}}</span>
          </div>
          <hr class="line" *ngIf="distincion.hasConcentracion || distincion.hasDiploma || distincion.hasUlead">
          <div class="d-inline" *ngIf="distincion.hasConcentracion || distincion.hasDiploma || distincion.hasUlead">
            <em class="bi bi-exclamation-circle"></em>
          </div>
          <div class="d-inline" *ngIf="distincion.hasConcentracion || distincion.hasDiploma || distincion.hasUlead">
            <span class="txt-info">                                     
              {{'distincionesAdicionales.advertencia' | translate }} <a [href]="urlDistinciones" target="_blank">{{'distincionesAdicionales.Click' | translate }}</a>
            </span>
          </div><br *ngIf="distincion.hasConcentracion || distincion.hasDiploma || distincion.hasUlead"/>
          <div class="d-inline" *ngIf="!distincion.hasConcentracion">
            <em class="bi bi-exclamation-circle"></em>
          </div>
          <div class="d-inline" *ngIf="!distincion.hasConcentracion">
            <span class="txt-info">
              {{'distincionesAdicionales.noConcentracion' | translate}}
            </span>
          </div>
</div>
      </mat-expansion-panel>
    </mat-accordion>
    <div class="mt-10"></div>
    <mat-accordion>
      <mat-expansion-panel [expanded]="false" class="acordeon" >
        <mat-expansion-panel-header class="acordeon-card">
          <mat-panel-title>
            {{'tramitesAdministrativos.titulo' | translate}}
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div class="acordeon-content" style="padding: 0 20px; ">
          <div class="item-list"><em class="bi bi-box-arrow-up-right small-icon urlIcon" (click)="redirectTesoreria();"></em> 
            <span class="label-negrita" (click)="redirectTesoreria();">{{'tramitesAdministrativos.gestionCuenta' | translate}}</span><br>
            <span class="label-gray">{{'tramitesAdministrativos.actualizacion' | translate}} {{dateTramitesAdmon | date: 'dd/MM/yyyy'}}</span>
          </div>
          <div class="item-list"><em class="bi bi-box-arrow-up-right small-icon urlIcon" (click)="redirectPrestamo();"></em> 
            <span class="label-negrita" (click)="redirectPrestamo();"> {{'tramitesAdministrativos.prestamoEducativo' | translate}}</span><br>
            <span class="label-gray"> {{'tramitesAdministrativos.actualizacion' | translate}} {{dateTramitesAdmon | date: 'dd/MM/yyyy'}}</span>
          </div>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
    <div class="mt-10"></div>
    <mat-accordion>
      <mat-expansion-panel [expanded]="false" class="acordeon" >
        <mat-expansion-panel-header class="acordeon-card">
          <mat-panel-title>
            {{'avisos.titulo' | translate}}
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div class="acordeon-content" style="padding: 0 20px; display: grid; place-items: center;">
          <div class="card-body card-avisos" style="max-width: 500px !important;">
            <div id="carouselAvisos" class="carousel slide carousel-fade" data-bs-ride="carousel">
              <div class="carousel-indicators">
                <button *ngFor="let aviso of avisos; let index = index" [class.active]="index == 0" type="button" data-bs-target="#carouselAvisos" [attr.data-bs-slide-to]="index"  aria-current="true" [attr.aria-label]="index"></button>
              </div>
              <div class="carousel-inner">
                <div class="carousel-item carousel-grad" style="text-align: center;" *ngFor="let aviso of avisos; let index = index" [class.active]="index == 0">
                  <h1 class="carousel-caption title-caption">{{'avisos.titulo' | translate}}</h1>
                  <img src={{aviso.urlImage}} class="d-block w-100 img-carr" alt="Aviso" onerror="this.src='/assets/img/defaultAviso.png';">
                  <div class="carousel-caption d-md-block desc-caption">
                    <h2>{{aviso.titulo}}</h2>
                    <button class="btn btn-default btnVer" (click)="verAvisos(this.usuario.matricula.toString())">{{'avisos.verMas' | translate}}</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
    <div class="mt-10"></div>
    <mat-accordion>
      <mat-expansion-panel [expanded]="false" class="acordeon" >
        <mat-expansion-panel-header class="acordeon-card">
          <mat-panel-title>
            {{ 'calendario.titulo' | translate }}           
          </mat-panel-title>
          <div class="float-end-tt"><em class="bi bi-info-circle" matTooltip="{{ 'calendario.tooltip' | translate }}" [matTooltipPosition]="'after'" 
            #tooltip="matTooltip" (click)="hideTooltipIn(tooltip, 5000)"></em> </div>
        </mat-expansion-panel-header>
        <div class="acordeon-content" style="padding: 0 20px; ">
          <div class="item-list">
            <em class="bi bi-box-arrow-up-right small-icon urlIcon" (click)="redirectCalendario()"></em> 
            <a class="label-negrita" [ngClass]="{'linkVacio': linkVacio, 'urlIcon': !linkVacio}" (click)="redirectCalendario()">{{ 'calendario.detalle' | translate }}</a>
          </div>
        </div>
      </mat-expansion-panel>
    </mat-accordion>
</div>
